function showDebtDetails(locationId) {
			const location = locations.find(loc => loc.ID == locationId);
			const locationVisits = visits.filter(v => v.location_id == locationId && v.paid === '0');
			
			if (!location || locationVisits.length === 0) {
				showToast('×œ× × ××¦××• ×—×•×‘×•×ª ×œ×œ×§×•×— ×–×”', 'info');
				return;
			}
			
			// ××™×•×Ÿ ×‘×™×§×•×¨×™× ×œ×¤×™ ×ª××¨×™×š
			locationVisits.sort((a, b) => new Date(a.date) - new Date(b.date));
			
			const totalDebt = locationVisits.reduce((sum, v) => sum + parseFloat(v.amount), 0);
			
			// ×™×¦×™×¨×ª ×¨×©×™××ª ×”×‘×™×§×•×¨×™×
			let visitsHTML = '';
			locationVisits.forEach(visit => {
				const workDone = visit.work_done || '×œ× ×¦×•×™×Ÿ';
				const notes = visit.notes ? `<div style="color: #888; font-size: 12px; margin-top: 5px;">ğŸ’­ ${visit.notes}</div>` : '';
				
				visitsHTML += `
					<div style="border: 1px solid #e9ecef; border-radius: 6px; padding: 12px; margin-bottom: 10px;">
						<div style="display: flex; justify-content: space-between; margin-bottom: 5px;">
							<strong>ğŸ“… ${formatDate(visit.date)}</strong>
							<strong style="color: #e74c3c;">â‚ª${parseFloat(visit.amount).toLocaleString()}</strong>
						</div>
						<div style="color: #666; font-size: 14px;">
							ğŸ”§ ${workDone}
						</div>
						${notes}
					</div>
				`;
			});
			
			// ×ª×•×›×Ÿ ×”××•×“×œ
			const modalContent = `
				<div style="background: white; padding: 25px; border-radius: 12px; max-width: 500px; width: 90vw; max-height: 70vh; overflow-y: auto;">
					<h3 style="margin-bottom: 20px; color: #2c3e50;">ğŸ’° ×¤×™×¨×•×˜ ×—×•×‘×•×ª - ${location.name}</h3>
					
					<div style="background: #f8f9fa; padding: 15px; border-radius: 8px; margin-bottom: 20px;">
						<strong>×¡×”"×› ×—×•×‘: â‚ª${totalDebt.toLocaleString()}</strong><br>
						<span style="color: #666;">××¡×¤×¨ ×˜×™×¤×•×œ×™×: ${locationVisits.length}</span>
					</div>
					
					<div style="max-height: 300px; overflow-y: auto;">
						${visitsHTML}
					</div>
					
					<div style="display: flex; gap: 10px; justify-content: center; margin-top: 20px;">
						<button type="button" onclick="markDebtAsPaid(${locationId}); closeEditModal();" style="background: #28a745; color: white; border: none; padding: 10px 20px; border-radius: 6px; cursor: pointer;">
							âœ… ×¡××Ÿ ×›××¡×•×œ×§
						</button>
						<button type="button" onclick="closeEditModal()" style="background: #6c757d; color: white; border: none; padding: 10px 20px; border-radius: 6px; cursor: pointer;">
							âŒ ×¡×’×•×¨
						</button>
					</div>
				</div>
			`;
			
			showEditModal(modalContent);
		}
